# Generated by Django 2.2.20 on 2021-06-01 19:19

import chord_metadata_service.restapi.models
import chord_metadata_service.restapi.validators
import django.contrib.postgres.fields.jsonb
from django.db import migrations, models
import django.utils.timezone


class Migration(migrations.Migration):

    dependencies = [
        ('experiments', '0002_v1_3_5'),
    ]

    operations = [
        migrations.CreateModel(
            name='ExperimentResult',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('identifier', models.CharField(blank=True, help_text='An arbitrary identifier for an experiment result.', max_length=200, null=True)),
                ('description', models.CharField(blank=True, help_text='Description of an experiment result.', max_length=500, null=True)),
                ('filename', models.CharField(blank=True, help_text='The name of the file containing the result.', max_length=500, null=True)),
                ('file_format', models.CharField(blank=True, choices=[('UNKNOWN', 'UNKNOWN'), ('SAM', 'SAM'), ('BAM', 'BAM'), ('CRAM', 'CRAM'), ('VCF', 'VCF'), ('BCF', 'BCF'), ('GVCF', 'GVCF'), ('BigWig', 'BigWig'), ('BigBed', 'BigBed')], help_text='(Controlled Vocabulary) File format.', max_length=50, null=True)),
                ('creation_date', models.CharField(blank=True, help_text='The date when the experiment result file was created.', max_length=500, null=True)),
                ('created_by', models.CharField(blank=True, help_text='Name/Username/Code of the person who prepared the sequncing data.', max_length=200, null=True)),
                ('extra_properties', django.contrib.postgres.fields.jsonb.JSONField(blank=True, default=dict, help_text='Extra properties that are not supported by current schema.', validators=[chord_metadata_service.restapi.validators.JsonSchemaValidator({'$id': 'chord_metadata_service:key_value_object_schema', '$schema': 'http://json-schema.org/draft-07/schema#', 'additionalProperties': False, 'description': 'The schema represents a key-value object.', 'patternProperties': {'^.*$': {'type': 'string'}}, 'title': 'Key-value object', 'type': 'object'}, formats=None)])),
                ('created', models.DateTimeField(auto_now_add=True)),
                ('updated', models.DateTimeField(auto_now=True)),
            ],
            bases=(models.Model, chord_metadata_service.restapi.models.IndexableMixin),
        ),
        migrations.RemoveField(
            model_name='experiment',
            name='file_location',
        ),
        migrations.AddField(
            model_name='experiment',
            name='created',
            field=models.DateTimeField(auto_now_add=True, default=django.utils.timezone.now),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='experiment',
            name='updated',
            field=models.DateTimeField(auto_now=True),
        ),
        migrations.AddField(
            model_name='experiment',
            name='experiment_results',
            field=models.ManyToManyField(blank=True, to='experiments.ExperimentResult'),
        ),
    ]
