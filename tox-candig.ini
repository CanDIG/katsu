[tox]
envlist = py310-django41

[testenv]
setenv =
    PYTHONPATH = {toxinidir}
    DJANGO_SETTINGS_MODULE = config.settings
passenv =
    POSTGRES_HOST
    POSTGRES_USER
    POSTGRES_PASSWORD_FILE
    OPA_URL
    CANDIG_AUTHORIZATION
    OPA_SITE_ADMIN_KEY
skip_install = true
commands =
    pip install -r requirements-candig-dev.txt
    coverage run manage.py test chord_metadata_service/mohpackets
    flake8 ./chord_metadata_service/mohpackets

    
